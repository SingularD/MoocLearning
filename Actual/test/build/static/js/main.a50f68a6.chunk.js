(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(68)},56:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(4),s=a(6),c=a(5),o=a(7),l=a(0),i=a.n(l),d=a(28),m=a.n(d),u=a(8),h=a(14),p=(a(36),a(1)),g=a(9),b=a.n(g),O="http://www.logiblack.com/api",f={0:"\u5728\u9014",1:"\u63fd\u4ef6",2:"\u7591\u96be",3:"\u7b7e\u6536",4:"\u9000\u7b7e\u6216\u5f02\u5e38\u7b7e\u6536",5:"\u6d3e\u4ef6",6:"\u9000\u56de"},N=(a(56),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={username:"",password:"",LoginFlag:!1},a.getUsername=a.getUsername.bind(Object(p.a)(Object(p.a)(a))),a.getPassword=a.getPassword.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"getUsername",value:function(e){this.setState({username:e.target.value})}},{key:"getPassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=this;if(""!==this.state.username&&""!==this.state.password){var t={phoneNum:this.state.username,password:this.state.password};b.a.post("".concat(O,"/merchant/login"),JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){"OK"===t.data.result?(localStorage.setItem("token",t.data.token),localStorage.setItem("$username",e.state.username),alert("\u767b\u5f55\u6210\u529f\uff0c\u9875\u9762\u5373\u5c06\u8df3\u8f6c"),setTimeout(function(){e.setState({LoginFlag:!0})},1e3)):alert("\u8d26\u53f7\u6216\u8005\u5bc6\u7801\u9519\u8bef\uff01")}).catch(function(e){console.log(e)})}else alert("\u8bf7\u586b\u5199\u5b8c\u6574\u7684\u8d26\u53f7\u5bc6\u7801\uff01")}},{key:"render",value:function(){return i.a.createElement("div",{className:"login-container"},this.state.LoginFlag?i.a.createElement(h.a,{to:"/"}):"",i.a.createElement("div",{className:"login-form-content row justify-content-center align-items-center"},i.a.createElement("form",{className:"col-6 align-content-center"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"username"},"Username"),i.a.createElement("input",{type:"email",className:"form-control",id:"username",onChange:this.getUsername,placeholder:"Username"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"password"},"Password"),i.a.createElement("input",{type:"password",className:"form-control",id:"password",onChange:this.getPassword,placeholder:"Password"})),i.a.createElement("button",{type:"button",className:"col-lg-2 offset-lg-5 btn btn-primary col-6 offset-3",onClick:this.handleSubmit},"\u767b\u5f55"))))}}]),t}(i.a.Component)),v=(a(65),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.loginInfo;return i.a.createElement("div",{className:"main-header-container row justify-content-center"},i.a.createElement("nav",{className:"nav col-12 col-lg-12 row"},i.a.createElement(u.b,{className:"col-lg-2 offset-lg-2 nav-link col-3",to:"/search"},"\u8ba2\u5355\u67e5\u8be2"),i.a.createElement(u.b,{className:"col-lg-2 nav-link col-3",to:"/logistics"},"\u7269\u6d41\u67e5\u8be2"),i.a.createElement(u.b,{className:"col-lg-2 nav-link col-3",to:"/seller"},"\u5356\u5bb6\u4fe1\u606f"),e.loginStatus?i.a.createElement("a",{className:"nav-link disabled offset-lg-1 col-lg-2 col-3 "},"\u4f60\u597d:",e.username):i.a.createElement(u.b,{className:"nav-link offset-lg-1 col-lg-2 col-3",to:"/login"},"\u672a\u767b\u5f55")))}}]),t}(i.a.Component)),E=(a(66),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={searchPhoneNum:"",wrongPhoneNum:!1,orderInfoList:[]},a.getPhoneNum=a.getPhoneNum.bind(Object(p.a)(Object(p.a)(a))),a.queryOrderInfoList=a.queryOrderInfoList.bind(Object(p.a)(Object(p.a)(a))),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"getPhoneNum",value:function(e){this.setState({searchPhoneNum:e.target.value})}},{key:"queryOrderInfoList",value:function(){var e=this;""!==this.state.searchPhoneNum?b.a.get("".concat(O,"/order?key=").concat(this.state.searchPhoneNum)).then(function(t){t.data.length?e.setState({orderInfoList:t.data}):e.setState({wrongPhoneNum:!0})}).catch(function(e){console.log(e),alert("\u67e5\u8be2\u5931\u8d25\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u53f7\uff01")}):alert("\u672a\u80fd\u67e5\u8be2\u60a8\u624b\u673a\u53f7\u76f8\u5173\u7684\u8ba2\u5355\u4fe1\u606f")}},{key:"changeDateForm",value:function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()+" ")+(t.getHours()+":")+(t.getMinutes()+":")+t.getSeconds()}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"main-search-container row justify-content-center"},i.a.createElement("div",{className:"input-group mb-3 col-9 search-input"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u8f93\u5165\u624b\u673a\u53f7\uff0c\u67e5\u8be2\u8ba2\u5355",onChange:this.getPhoneNum}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.queryOrderInfoList},"\u67e5\u8be2")))),i.a.createElement("div",{className:"row orderContent justify-content-center"},i.a.createElement("div",{className:"col-9"},i.a.createElement("ul",{className:"list-group list-group-flush"},i.a.createElement("li",{className:"list-group-item"},i.a.createElement("div",{className:"row justify-content-between"},i.a.createElement("div",{className:"col-3"},"\u8ba2\u5355\u7f16\u53f7"),i.a.createElement("div",{className:"col-3"},"\u7528\u6237\u540d"),i.a.createElement("div",{className:"col-3"},"\u8ba2\u5355\u65f6\u95f4"),i.a.createElement("div",{className:"col-2"},"\u67e5\u770b\u7269\u6d41"))),this.state.wrongPhoneNum?i.a.createElement("h1",{style:{color:"red"}},"\u65e0\u76f8\u5173\u8ba2\u5355\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165!!!"):"",this.state.orderInfoList.map(function(t,a){return i.a.createElement("li",{className:"list-group-item",key:a},i.a.createElement("div",{className:"row justify-content-between"},i.a.createElement("div",{className:"col-3"},t.orderNum),i.a.createElement("div",{className:"col-3"},t.uname),i.a.createElement("div",{className:"col-3"},e.changeDateForm(t.time)),i.a.createElement("div",{className:"col-2"},i.a.createElement(u.b,{to:"/logistics/".concat(t.orderNum)},i.a.createElement("button",{className:"btn btn-primary"},"\u67e5\u8be2\u7269\u6d41")))))})))))}}]),t}(i.a.Component)),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={orderId:a.props.match.params.orderId,logisticsNum:"",orderState:"",logisticsInfoList:[]},a.getLogisticsNum=a.getLogisticsNum.bind(Object(p.a)(Object(p.a)(a))),a.getLogisticsInfoList=a.getLogisticsInfoList.bind(Object(p.a)(Object(p.a)(a))),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"getLogisticsNum",value:function(e){this.setState({logisticsNum:e.target.value})}},{key:"getLogisticsInfoList",value:function(){var e=this;""!==this.state.logisticsNum&&b.a.get("".concat(O,"/order/detail?orderNum=").concat(this.state.logisticsNum)).then(function(t){t.data.data.length?e.setState({logisticsInfoList:t.data.data,orderState:f[t.data.state]}):alert("\u67e5\u8be2\u5931\u8d25\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8ba2\u5355\u53f7")}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){if(void 0!==this.state.orderId){var e=this;b.a.get("".concat(O,"/order/detail?orderNum=").concat(this.state.orderId)).then(function(t){e.setState({logisticsInfoList:t.data.data,orderState:f[t.data.state]})}).catch(function(e){console.log(e)})}}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"main-search-container row justify-content-center"},i.a.createElement("div",{className:"input-group mb-3 col-9 search-input form-group"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u8f93\u5165\u8ba2\u5355\u53f7\uff0c\u67e5\u8be2\u7269\u6d41\u4fe1\u606f",defaultValue:this.state.orderId,onChange:this.getLogisticsNum}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.getLogisticsInfoList},"\u67e5\u8be2")))),i.a.createElement("div",{className:"row orderContent justify-content-center"},i.a.createElement("div",{className:"col-9"},i.a.createElement("ul",{className:"list-group list-group-flush"},i.a.createElement("li",{className:"list-group-item"},i.a.createElement("div",{className:"row justify-content-between"},i.a.createElement("div",{className:"col-3"},"\u65f6\u95f4"),i.a.createElement("div",{className:"col-6"},"\u8ba2\u5355\u7f16\u53f7\uff1a",this.state.orderId?this.state.orderId:this.state.logisticsNum),i.a.createElement("div",{className:"col-3"},"\u72b6\u6001: ",this.state.orderState))),this.state.logisticsInfoList.map(function(e,t){return i.a.createElement("li",{className:"list-group-item",key:t},i.a.createElement("div",{className:"row justify-content-start"},i.a.createElement("div",{className:"col-3"},e.time),i.a.createElement("div",{className:"col-6"},e.context)))})))))}}]),t}(i.a.Component),y=(a(67),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={type:a.props.type,jump:!1,updateOrder:{orderNum:"",uname:"",uphone:""},createOrder:{orderNum:"",uname:"",uphone:""}},a.updateOrder=a.updateOrder.bind(Object(p.a)(Object(p.a)(a))),a.submitUpdateOrder=a.submitUpdateOrder.bind(Object(p.a)(Object(p.a)(a))),a.createOrder=a.createOrder.bind(Object(p.a)(Object(p.a)(a))),a.submitCreateOrder=a.submitCreateOrder.bind(Object(p.a)(Object(p.a)(a))),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"handleCancel",value:function(e){this.props.cancel(e)}},{key:"updateOrder",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState({updateOrder:Object.assign(this.state.updateOrder,t)})}},{key:"submitUpdateOrder",value:function(){var e=this;console.log(this.state.updateOrder),window.confirm("\u4f60\u786e\u5b9a\u4fee\u6539\u8ba2\u5355: ".concat(this.state.updateOrder.orderNum," \u5417\uff1f"))&&b.a.post("".concat(O,"/merchant/update"),JSON.stringify(this.state.updateOrder),{headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:localStorage.getItem("token")}}).then(function(t){t.data.result||(localStorage.removeItem("$username"),e.setState({check:!0}),alert("\u8bf7\u767b\u5f55\u540e\u5c1d\u8bd5"))})}},{key:"createOrder",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState({createOrder:Object.assign(this.state.createOrder,t)})}},{key:"submitCreateOrder",value:function(){var e=this;window.confirm("\u4f60\u786e\u5b9a\u65b0\u5efa\u8ba2\u5355: ".concat(this.state.createOrder.orderNum," \u5417\uff1f"))&&(b.a.post("".concat(O,"/merchant/add"),JSON.stringify(this.state.createOrder),{headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:localStorage.getItem("token")}}).then(function(t){t.data.result||(localStorage.removeItem("$username"),e.setState({check:!0}),alert("\u8bf7\u767b\u5f55\u540e\u5c1d\u8bd5"))}),alert("\u65b0\u5efa\u6210\u529f\uff01"))}},{key:"componentDidMount",value:function(){"updateOrder"===this.props.type&&this.setState({updateOrder:{orderId:this.props.orderData.orderId,orderNum:this.props.orderData.orderNum,uname:this.props.orderData.uname,uphone:this.props.orderData.uphone}})}},{key:"render",value:function(){return i.a.createElement("div",{className:"seller-selector-edit col-8 mt-5"},this.state.check?i.a.createElement(h.a,{to:"/login"}):"",i.a.createElement("div",{className:"input-group mb-3"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"\u59d3\u540d")),"createOrder"===this.props.type?i.a.createElement("input",{type:"text",name:"uname",className:"form-control",onChange:this.createOrder,placeholder:"\u59d3\u540d"}):i.a.createElement("input",{type:"text",name:"uname",defaultValue:this.state.updateOrder.uname,onChange:this.updateOrder,className:"form-control",placeholder:"\u59d3\u540d"})),i.a.createElement("div",{className:"input-group mb-3"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"\u7535\u8bdd")),"createOrder"===this.props.type?i.a.createElement("input",{type:"text",className:"form-control",name:"uphone",onChange:this.createOrder,placeholder:"\u7535\u8bdd"}):i.a.createElement("input",{type:"text",className:"form-control",name:"uphone",onChange:this.updateOrder,defaultValue:this.state.updateOrder.uphone,placeholder:"\u7535\u8bdd"}),"        "),i.a.createElement("div",{className:"input-group mb-3"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"\u8ba2\u5355")),"createOrder"===this.props.type?i.a.createElement("input",{type:"text",className:"form-control",name:"orderNum",onChange:this.createOrder,placeholder:"\u8ba2\u5355"}):i.a.createElement("input",{type:"text",className:"form-control",name:"orderNum",defaultValue:this.state.updateOrder.orderNum,onChange:this.updateOrder,placeholder:"\u8ba2\u5355"}),"        "),"createOrder"===this.state.type?i.a.createElement("div",{className:"float-right"},i.a.createElement("button",{className:"btn btn-success mr-5",onClick:this.submitCreateOrder},"\u6dfb\u52a0\u8ba2\u5355"),i.a.createElement("button",{onClick:this.handleCancel.bind(this,"add"),className:"btn btn-primary"},"\u53d6\u6d88\u6dfb\u52a0")):i.a.createElement("div",{className:"float-right"},i.a.createElement("button",{className:"btn btn-warning mr-5",onClick:this.submitUpdateOrder},"\u4fee\u6539\u8ba2\u5355"),i.a.createElement("button",{onClick:this.handleCancel.bind(this,"update"),className:"btn btn-primary"},"\u53d6\u6d88\u4fee\u6539")))}}]),t}(i.a.Component)),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={orderId:"",check:!1,orderInfoFlag:!1,addOrderFlag:!1,updateOrderFlag:!1,orderData:{}},a.getOrderId=a.getOrderId.bind(Object(p.a)(Object(p.a)(a))),a.searchOrder=a.searchOrder.bind(Object(p.a)(Object(p.a)(a))),a.deleteOrder=a.deleteOrder.bind(Object(p.a)(Object(p.a)(a))),a.addOrder=a.addOrder.bind(Object(p.a)(Object(p.a)(a))),a.updateOrder=a.updateOrder.bind(Object(p.a)(Object(p.a)(a))),a.handleCancel=a.handleCancel.bind(Object(p.a)(Object(p.a)(a))),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"getOrderId",value:function(e){this.setState({orderId:e.target.value})}},{key:"searchOrder",value:function(){var e=this;this.setState({orderInfoFlag:!0,addOrderFlag:!1}),this.state.orderId&&b.a.get("".concat(O,"/order?key=").concat(this.state.orderId)).then(function(t){t.data?e.setState({orderData:t.data[0],orderInfoFlag:!0}):alert("\u4f60\u67e5\u8be2\u7684\u8ba2\u5355\u4e0d\u5b58\u5728\uff01")})}},{key:"deleteOrder",value:function(){var e=this;if(window.confirm("\u4f60\u786e\u5b9a\u5220\u9664\u8ba2\u5355: ".concat(this.state.orderId," \u5417\uff1f"))){var t={orderNum:this.state.orderId};b.a.post("".concat(O,"/merchant/cancel"),JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:localStorage.getItem("token")}}).then(function(t){e.setState({orderInfoFlag:!1}),t.data.result||(localStorage.removeItem("$username"),e.setState({check:!0}),alert("\u8bf7\u767b\u5f55\u540e\u5c1d\u8bd5"))}),alert("\u8ba2\u5355\u5df2\u5220\u9664")}}},{key:"addOrder",value:function(){this.setState({addOrderFlag:!0,orderInfoFlag:!1,updateOrderFlag:!1})}},{key:"updateOrder",value:function(){this.setState({updateOrderFlag:!0,addOrderFlag:!1})}},{key:"handleCancel",value:function(e){"add"===e?this.setState({addOrderFlag:!1}):this.setState({updateOrderFlag:!1})}},{key:"render",value:function(){return i.a.createElement("div",{className:"seller-container row justify-content-center"},this.state.check?i.a.createElement(h.a,{to:"/login"}):"",i.a.createElement("div",{className:"seller-selector row justify-content-between col-8"},i.a.createElement("div",{className:"input-group mb-3"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u8f93\u5165\u8ba2\u5355\u53f7",onChange:this.getOrderId}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-primary",onClick:this.searchOrder},"\u641c\u7d22")),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-success",onClick:this.addOrder},"\u65b0\u5efa\u8ba2\u5355")))),this.state.orderInfoFlag?i.a.createElement("div",{className:"seller-selector-items col-8 mt-5"},i.a.createElement("h1",null,"\u8ba2\u5355\u7f16\u53f7: ",this.state.orderId?this.state.orderId:"\u4e0d\u5b58\u5728!"),i.a.createElement("div",{className:"aboutOrder w-100"},i.a.createElement("ul",{className:"list-group list-group-flush pb-3"},i.a.createElement("li",{className:"list-group-item"},"\u4e70\u5bb6\u59d3\u540d:",this.state.orderData.uname),i.a.createElement("li",{className:"list-group-item"},"\u4e70\u5bb6\u7535\u8bdd:",this.state.orderData.uphone),i.a.createElement("li",{className:"list-group-item"},i.a.createElement("span",null,"\u64cd\u4f5c"),i.a.createElement("span",{className:"float-right"},i.a.createElement("button",{className:"btn btn-warning mr-lg-5 mr-3",onClick:this.updateOrder},"\u4fee\u6539\u8ba2\u5355"),i.a.createElement("button",{className:"btn btn-danger",onClick:this.deleteOrder},"\u5220\u9664\u8ba2\u5355")))))):"",this.state.addOrderFlag?i.a.createElement(y,{cancel:this.handleCancel,type:"createOrder"}):"",this.state.updateOrderFlag?i.a.createElement(y,{cancel:this.handleCancel,type:"updateOrder",orderData:this.state.orderData}):"")}}]),t}(i.a.Component),I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={loginInfo:{username:"",loginStatus:!1}},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.getItem("$username")){var e={username:localStorage.getItem("$username"),loginStatus:!0};this.setState({loginInfo:Object.assign(this.state.loginInfo,e)})}}},{key:"render",value:function(){return i.a.createElement(u.a,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(v,{loginInfo:this.state.loginInfo}),i.a.createElement(h.d,null,i.a.createElement(h.b,{path:"/search",component:E}),i.a.createElement(h.b,{path:"/logistics/:orderId?",component:j}),i.a.createElement(h.b,{path:"/seller/:userId?",component:k}))))}}]),t}(i.a.Component),w=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,null,i.a.createElement(h.d,null,i.a.createElement(h.b,{path:"/login",component:N}),i.a.createElement(h.b,{path:"/",component:I}))))}}]),t}(i.a.Component);m.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.a50f68a6.chunk.js.map